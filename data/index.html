<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title></title>
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="index.css">
        <script src="index.js" type="module"></script>
    </head>
    <body>
        <div id="header">
            <h1>ESP32 IoT Relay Timer</h1>
            
        </div>
        <div id="statusDiv">
            <div id="systemTimeDiv">
                <span>System time: </span>
                <span id="systemTime">2000-01-01T00:00:00Z</span>
            </div>
            <div id="relayStatesDiv">
                <div>Relay state: </div>
                <table>
                    <tbody id="relayStatesTable">
                        <tr id="relayStateTemplate" style="display: none">
                            <td class="relayIndex">Relay 0: </td>
                            <td><span class="relayStatusIndicator on"></span></td>
                            <td class="relayStatusText">On</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div>
                <a href="wifi.html">Configure WiFi</a>
            </div>
        </div>
        <div id="mainConfigDiv">
            <div>
                <span>Device name: </span>
                <input id="deviceNameInput" type="text">
            </div>
            <div>
                <span>Sync time automatically: </span>
                <input id="ntpEnableInput" type="checkbox">
            </div>
            <div id="gmtOffsetInputDiv">
                <span>GMT offset: </span>
                <input type="number" id="gmtOffsetInput">
            </div>
            <div id="manualTimeInputDiv">
                <span>Set date and time manually: </span>
                <input id="manualTimeInput" type="datetime-local" step="1">
                <button id="saveTimeBtn">Save</button>
            </div>
            <div id="saveMainConfigBtnDiv">
                <button id="saveMainConfigBtn">Save main config</button>
            </div>
            
        </div>

        <div id="relayConfigsDiv">
            <div id="relayIndexSelectorDiv">
                <span>Select relay: </span>
                <select name="relayIndexSelector" id="relayIndexSelector">
                    <option value="0">Relay 1</option>
                    <option value="1">Relay 2</option>
                    <option value="2">Relay 3</option>
                </select>
            </div>
            <div>
                <span>Status LED setting: </span>
                <select id="ledModeInput">
                    <option value=0>off</option>
                    <option value=1>on</option>
                    <option value=2>blinking</option>
                </select>
            </div>
            <div>
                <span>Select operation mode: </span>
                <select id="operationModeInput">
                    <option value="0">Disabled</option>
                    <option value="1">Manual</option>
                    <option value="2">Schedule</option>
                    <option value="3">Countdown timer</option>
                </select>
            </div>
            <div id="manualRelayDiv">
                <span>Set relay state: </span>
                <input type="checkbox" id="manualRelayInput">
            </div>
            <div id="timeSlotsRelayDiv">
                <div id="timeSlotTemplate" data-index="0" style="border: 2px solid black;">
                    <div>
                        <span>Timeslot </span>
                        <span class="timeSlotIndex">0</span>
                    </div>
                    <span>
                        <span>Enabled:</span>
                        <input type="checkbox" class="timeSlotEnabled">
                    </span>
                    <div>
                        <span>
                            <span>Start time: </span>
                            <input type="time" class="timeSlotStartTime" step="1">
                        </span>
                        <span>
                            <span>End time: </span>
                            <input type="time" class="timeSlotEndTime" step="1">
                        </span>
                        <span>
                            <span>Duration: </span>
                            <input type="number" class="timeSlotDuration">
                        </span>
                    </div>
                </div>
            </div>
            <div id="countdownTimerDiv">
                <span>Countdown timer duration: </span>
                <input type="number" id="countdownDurationInput" value="0">
                <button id="startStopCountdownButton">Start</button>
            </div>
            <div id="saveRelayConfigBtnDiv">
                <button id="saveRelayConfigBtn">Save relay config</button>
            </div>
        </div>
    </body>
</html>